{% extends 'dash_head.html' %} {% load static %} {% block content %}
<div class="p-6 w-full max-w-[1350px] mx-auto">
  {% include 'components/searchbar.html' %}

  <!--------------------------------------- subjects --------------------------------------->
  <div class="my-4 flex flex-wrap gap-2">
    {% for obj in subjects %}
    <!--  -->
    <a
      href="{% url 'tutors' %}?query={{obj.name}}"
      class="px-3 py-1 flex justify-between items-center gap-4 rounded-md text-xs text-gray-700 bg-gray-100 hover:bg-green-200 hover:text-black transition duration-300 ease-in-out"
    >
      {{obj.name}}
      <img class="h-7 object-contain" src="{{obj.image.url}}" alt="image" />
    </a>
    <!--  -->
    {% endfor %}
  </div>

  <!--------------------------------------- tutors --------------------------------------->
  <section id="tutors" class="bg-white w-full text-left">
    <div class="w-full mx-auto">
      {% if not tutors %}
      <div class="flex-col text-center">
        <img
          class="my-10 mx-auto h-40 object-cover"
          src="{% static 'imgs/empty.png' %}"
          alt="tutor image"
        />
        <p class="p-2 max-w-[400px] mx-auto rounded-lg bg-gray-50">
          Aucune données disponible pour le moment
        </p>
      </div>
      {% else %}
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        {% for obj in tutors %}
        <div
          class="flex flex-col bg-blue-50 hover:bg-white hover:shadow-md rounded-md transition duration-300 ease-in-out overflow-hidden group"
        >
          <a href="{% url 'tutor' obj.id  %}">
            <div class="relative w-full max-h-40 overflow-hidden">
              {% if obj.is_verified %}
              <span
                class="absolute z-30 text-xs text-white top-4 left-4 px-2 py-1 bg-green-500 rounded-md"
                >Vérifié</span
              >
              {% else %}
              <span
                class="absolute z-30 text-xs text-white top-4 left-4 px-2 py-1 bg-sky-500 rounded-md"
                >Non-vérifié</span
              >
              {% endif %}
              <!--  -->
              {% if not obj.image %}
              <img
                class="w-full h-40 max-h-40 object-cover transition duration-500 group-hover:scale-110"
                src="{% static 'imgs/tutor.jpg' %}"
                alt="tutor image"
              />
              {% else %}
              <img
                class="w-full h-40 max-h-40 object-cover transition duration-500 group-hover:scale-110"
                src="{{obj.image.url}}"
                alt="tutor image"
              />
              {% endif %}
            </div>
            <div class="p-4 flex flex-col justify-between">
              <h4 class="text-black text-sm font-bold">
                {{obj.civility}} {{obj.user.last_name}} {{obj.user.first_name}}
              </h4>
              <p class="py-2 text-xs text-gray-800">
                {{obj.bio|truncatechars:100}}
              </p>
            </div>
          </a>
        </div>
        {% endfor %}
      </div>
      {% endif %}
    </div>
  </section>
</div>

{% endblock %}
